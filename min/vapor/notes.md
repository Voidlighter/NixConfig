This extremely basic setup for my Steam Deck works alright, but has some quirks:

1. When installing a new OS on the deck, whether NixOS or SteamOS, the touchscreen will stop working. This can be fixed by booting into battery storage mode, then waking the deck back up with a sufficiently powerful usb-c charger.

2. Storage is encrypted, but can only be decrypted with a keyboard plugged in.